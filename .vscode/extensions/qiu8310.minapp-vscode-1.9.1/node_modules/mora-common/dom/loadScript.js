"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
function loadScript(url) {
    return new Promise(function (resolve, reject) {
        var script = document.createElement('script');
        script.src = url;
        script.type = 'text/javascript';
        script.onload = function (e) {
            destroy();
            resolve(script);
        };
        script.onerror = function (e) {
            destroy();
            reject(e);
        };
        // sync way of adding script tags to the page
        document.body.appendChild(script);
        function destroy() {
            script.onerror = null;
            script.onload = null;
            if (script.parentNode)
                script.parentNode.removeChild(script);
        }
    });
}
exports.loadScript = loadScript;
