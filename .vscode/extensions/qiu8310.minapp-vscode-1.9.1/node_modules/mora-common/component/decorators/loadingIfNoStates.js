"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var React = require("react");
var Loading_1 = require("../../widget/Loading");
var array_1 = require("../../util/array");
function loadingIfNoStates(options) {
    return function (Component) {
        return /** @class */ (function (_super) {
            tslib_1.__extends(class_1, _super);
            function class_1() {
                return _super !== null && _super.apply(this, arguments) || this;
            }
            class_1.prototype.render = function () {
                var opts = typeof options === 'string' || Array.isArray(options) ? { required: options } : options;
                var state = this.state || {};
                var show = true;
                if (opts.required && opts.required.length) {
                    show = array_1.toArray(opts.required).every(function (key) { return state[key] != null; });
                }
                if (opts.oneOf && opts.oneOf.length) {
                    show = opts.oneOf.some(function (key) { return state[key] != null; });
                }
                return show ? _super.prototype.render.call(this) : React.createElement(Loading_1.Loading);
            };
            return class_1;
        }(Component));
    };
}
exports.loadingIfNoStates = loadingIfNoStates;
