"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var path = require("path");
var File_1 = require("./inc/File");
function dts2djson(dtsFile, opts) {
    if (opts === void 0) { opts = {}; }
    var file = File_1.compile(dtsFile, opts);
    var result = {};
    file.declares.forEach(function (key) { return result[key] = ''; });
    Object.keys(file.exports).forEach(function (key) {
        var _a = file.exports[key], from = _a.from, ref = _a.ref;
        from = path.relative(path.dirname(dtsFile), from);
        result[key] = file.stringifyExportKey({ from: from, ref: ref });
    });
    return result;
}
exports.dts2djson = dts2djson;
