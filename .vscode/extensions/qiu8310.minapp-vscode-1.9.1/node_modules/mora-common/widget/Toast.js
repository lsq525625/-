"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var React = require("react");
var Modal_1 = require("./Modal");
var HTML_1 = require("./HTML");
require("./style/Toast.scss");
function toast(message, options) {
    if (options === void 0) { options = {}; }
    var html = options.html, simpleHTML = options.simpleHTML, instance = options.instance, _a = options.duration, duration = _a === void 0 ? 2000 : _a, _b = options.animation, animation = _b === void 0 ? 'fadeIn' : _b, animationDuration = options.animationDuration;
    var el = typeof message !== 'string'
        ? React.createElement("div", { className: 'wToast' }, message)
        : html
            ? React.createElement("div", { className: 'wToast', dangerouslySetInnerHTML: { __html: message } })
            : React.createElement("div", { className: 'wToast', children: simpleHTML ? HTML_1.parseSimpleHTML(message) : message });
    var modalProps = { animation: animation, animationDuration: animationDuration, nomask: true, minWidth: 100, minHeight: 'auto' };
    var destroy = Modal_1.Modal.dialog(modalProps, el, instance).destroy;
    var sid;
    if (duration > 0)
        sid = setTimeout(destroy, duration);
    return {
        destroy: function () {
            if (sid)
                clearTimeout(sid);
            destroy();
        }
    };
}
exports.toast = toast;
