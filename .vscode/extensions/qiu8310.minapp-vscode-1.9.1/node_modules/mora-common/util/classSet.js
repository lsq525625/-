"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var warn_1 = require("./warn");
function classSet() {
    var args = [];
    for (var _i = 0; _i < arguments.length; _i++) {
        args[_i] = arguments[_i];
    }
    var result = [];
    args.forEach(function (arg) {
        if (arg) {
            if (Array.isArray(arg))
                result.push(classSet.apply(void 0, arg));
            else if (typeof arg === 'string')
                result.push(arg);
            else if (typeof arg === 'object')
                result.push.apply(result, (Object.keys(arg).filter(function (k) { return arg[k]; })));
        }
    });
    return result.join(' ');
}
exports.classSet = classSet;
/**
 * 针对 css-modules 和 classSet 使用
 *
 * @export
 * @param {any} locals - css-modules 导出的对象
 * @param {Array<IClassSetArg>} args - 传给 classSet 用的参数
 * @returns string
 */
function classMap(locals) {
    var args = [];
    for (var _i = 1; _i < arguments.length; _i++) {
        args[_i - 1] = arguments[_i];
    }
    return classSet.apply(void 0, args).trim().split(/\s+/)
        .map(function (cls) {
        if (cls && locals.hasOwnProperty(cls))
            return locals[cls];
        warn_1.warn("class \"" + cls + "\" not exists in %o", locals);
    })
        .filter(function (cls) { return !!cls; })
        .join(' ');
}
exports.classMap = classMap;
