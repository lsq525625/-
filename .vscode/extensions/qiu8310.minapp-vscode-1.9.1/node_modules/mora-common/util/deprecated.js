"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var warn_1 = require("./warn");
var DEFAULT_MSG = 'This function will be removed in future versions.';
/**
 * @param {string} [msg] 提醒，可以不设置，有默认值
 */
function deprecated(target, key, descriptor, msg) {
    if (msg === void 0) { msg = DEFAULT_MSG; }
    if (!target || typeof target === 'string') {
        return function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i] = arguments[_i];
            }
            return deprecated.apply(null, args.concat(target || DEFAULT_MSG));
        };
    }
    if (typeof descriptor.value !== 'function') {
        throw new SyntaxError('Only functions can be marked as deprecated');
    }
    return tslib_1.__assign({}, descriptor, { value: function () {
            warn_1.warn("DEPRECATED " + target.constructor.name + "#" + key + ": " + msg);
            return descriptor.value.apply(this, arguments);
        } });
}
exports.deprecated = deprecated;
