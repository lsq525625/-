"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var LEVELS = [
    { key: 'second', rate: 1 },
    { key: 'minute', rate: 60 },
    { key: 'hour', rate: 3600 },
    { key: 'day', rate: 86400 }
];
function formatElapsedSeconds(seconds, options) {
    if (options === void 0) { options = {}; }
    var _a = options.maxLevel, maxLevel = _a === void 0 ? 'hour' : _a, maxValue = options.maxValue;
    var maxIndex = -1;
    LEVELS.some(function (l, i) {
        if (l.key === maxLevel) {
            maxIndex = i;
            return true;
        }
        return false;
    });
    return LEVELS
        .slice(0, maxIndex === -1 ? LEVELS.length : maxIndex + 1)
        .reverse()
        .reduce(function (res, level) {
        var value = 0;
        if (seconds >= level.rate) {
            value = Math.floor(seconds / level.rate);
            seconds -= value * level.rate;
        }
        res[level.key] = maxValue && maxValue > 0 ? Math.min(maxValue, value) : value;
        return res;
    }, {});
}
exports.formatElapsedSeconds = formatElapsedSeconds;
